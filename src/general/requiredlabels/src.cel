validations:
- expression: '(has(variable.anyObject.metadata) && variables.params.labels.all(entry, has(variable.anyObject.metadata.labels) && entry.key in variable.anyObject.metadata.labels))'
  messageExpression: '"missing required label, requires all of: " + variables.params.labels.map(entry, entry.key).join(", ")'
- expression: '(has(variable.anyObject.metadata) && variables.params.labels.all(entry, has(variable.anyObject.metadata.labels) && entry.key in variable.anyObject.metadata.labels && string(variable.anyObject.metadata.labels[entry.key]).matches(string(entry.allowedRegex))))'
  message: "regex mismatch"