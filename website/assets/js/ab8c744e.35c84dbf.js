"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[289],{3167:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>n,metadata:()=>d,toc:()=>c});var r=t(5893),s=t(1151);const n={id:"pspintro",title:"Introduction"},l="Pod Security Standards",d={id:"pspintro",title:"Introduction",description:"This library provides Gatekeeper policies that implement the Kubernetes Pod Security Standards. These standards define three profiles that cover the security spectrum:",source:"@site/docs/pspintro.md",sourceDirName:".",slug:"/pspintro",permalink:"/gatekeeper-library/website/pspintro",draft:!1,unlisted:!1,editUrl:"https://github.com/open-policy-agent/gatekeeper-library/edit/master/website/docs/pspintro.md",tags:[],version:"current",frontMatter:{id:"pspintro",title:"Introduction"},sidebar:"docs",previous:{title:"Verify deprecated APIs",permalink:"/gatekeeper-library/website/validation/verifydeprecatedapi"},next:{title:"App Armor",permalink:"/gatekeeper-library/website/validation/apparmor"}},o={},c=[{value:"Baseline Profile",id:"baseline-profile",level:2},{value:"Restricted Profile",id:"restricted-profile",level:2}];function a(e){const i={a:"a",blockquote:"blockquote",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"pod-security-standards",children:"Pod Security Standards"}),"\n",(0,r.jsxs)(i.p,{children:["This library provides Gatekeeper policies that implement the ",(0,r.jsx)(i.a,{href:"https://kubernetes.io/docs/concepts/security/pod-security-standards/",children:"Kubernetes Pod Security Standards"}),". These standards define three profiles that cover the security spectrum:"]}),"\n",(0,r.jsxs)(i.ul,{children:["\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Privileged"}),": Unrestricted policy, providing the widest possible level of permissions."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Baseline"}),": Minimally restrictive policy which prevents known privilege escalations. Allows the default (minimally specified) Pod configuration."]}),"\n",(0,r.jsxs)(i.li,{children:[(0,r.jsx)(i.strong,{children:"Restricted"}),": Heavily restricted policy, following current Pod hardening best practices."]}),"\n"]}),"\n",(0,r.jsxs)(i.blockquote,{children:["\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.strong,{children:"Note:"})," The profiles are ",(0,r.jsx)(i.strong,{children:"cumulative"})," - the Restricted profile includes all policies from the Baseline profile, plus additional restrictions."]}),"\n"]}),"\n",(0,r.jsxs)(i.p,{children:["These policies were originally based on the deprecated ",(0,r.jsx)(i.a,{href:"https://kubernetes.io/docs/concepts/policy/pod-security-policy/",children:"Pod Security Policy"})," but have been updated to align with the modern Pod Security Standards."]}),"\n",(0,r.jsx)(i.p,{children:"An administrator can control the following by deploying the corresponding Gatekeeper constraint and constraint templates:"}),"\n",(0,r.jsx)(i.h2,{id:"baseline-profile",children:"Baseline Profile"}),"\n",(0,r.jsx)(i.p,{children:"These policies prevent known privilege escalations and are recommended as the minimum security configuration for most workloads."}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Control Aspect"}),(0,r.jsx)(i.th,{children:"Gatekeeper Constraint and Constraint Template"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Running of privileged containers"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/privileged-containers",children:"privileged-containers"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Usage of host namespaces"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/host-namespaces",children:"host-namespaces"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Usage of host networking and ports"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/host-network-ports",children:"host-network-ports"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Usage of the host filesystem"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/host-filesystem",children:"host-filesystem"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Linux capabilities"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/capabilities",children:"capabilities"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The SELinux context of the container"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/selinux",children:"selinux"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The allowed Proc mount types for the container"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/proc-mount",children:"proc-mount"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The AppArmor profile used by containers"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/apparmor",children:"apparmor"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The seccomp profile used by containers"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/seccompv2",children:"seccompv2"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The sysctl profile used by containers"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/forbidden-sysctls",children:"forbidden-sysctls"})})]})]})]}),"\n",(0,r.jsx)(i.h2,{id:"restricted-profile",children:"Restricted Profile"}),"\n",(0,r.jsxs)(i.p,{children:["These policies provide additional hardening on top of the Baseline profile. Deploy these ",(0,r.jsx)(i.strong,{children:"in addition to"})," the Baseline policies for maximum security."]}),"\n",(0,r.jsxs)(i.table,{children:[(0,r.jsx)(i.thead,{children:(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.th,{children:"Control Aspect"}),(0,r.jsx)(i.th,{children:"Gatekeeper Constraint and Constraint Template"})]})}),(0,r.jsxs)(i.tbody,{children:[(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Restricting escalation to root privileges"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/allow-privilege-escalation",children:"allow-privilege-escalation"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Approved list of flex-volume drivers"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/flexvolume-drivers",children:"flexvolume-drivers"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Allocating an FSGroup that owns the Pod's volumes"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/fsgroup",children:"fsgroup"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Requiring the use of a read only root file system"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/read-only-root-filesystem",children:"read-only-root-filesystem"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"The user and group IDs of the container"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/users",children:"users"})})]}),(0,r.jsxs)(i.tr,{children:[(0,r.jsx)(i.td,{children:"Usage of volume types"}),(0,r.jsx)(i.td,{children:(0,r.jsx)(i.a,{href:"validation/volumes",children:"volumes"})})]})]})]})]})}function h(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},1151:(e,i,t)=>{t.d(i,{Z:()=>d,a:()=>l});var r=t(7294);const s={},n=r.createContext(s);function l(e){const i=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(n.Provider,{value:i},e.children)}}}]);